# B站音乐播放器 - 快速开始指南

## 🚨 重要提示

由于Gradle Wrapper的jar文件无法通过文本方式创建，项目需要在Android Studio中首次打开来自动生成这些文件。

## ✅ 推荐方法：使用Android Studio

### 步骤1：打开Android Studio

### 步骤2：导入项目
1. 点击 **File → Open**
2. 选择项目目录：`/Users/ltlly/Code/BiliMusicPlayer`
3. 点击 **Open**

### 步骤3：信任项目
- 如果弹出"Trust and Open Project Gradle Scripts?"对话框
- 点击 **Trust Project**

### 步骤4：等待Gradle同步
- Android Studio会自动：
  - 下载Gradle 8.5
  - 生成gradle-wrapper.jar
  - 下载所有依赖
  - 构建项目

**首次同步可能需要5-10分钟**，请耐心等待。

### 步骤5：解决可能的问题

#### 问题1：Gradle同步失败
**解决方案**：
1. 点击 **File → Invalidate Caches / Restart**
2. 选择 **Invalidate and Restart**
3. 重启后会自动重新同步

#### 问题2：依赖下载慢
**解决方案**：使用国内镜像

编辑 `settings.gradle.kts`，在 `repositories` 块最前面添加：
```kotlin
repositories {
    maven { url = uri("https://maven.aliyun.com/repository/google") }
    maven { url = uri("https://maven.aliyun.com/repository/public") }
    google()
    mavenCentral()
    maven { url = uri("https://jitpack.io") }
}
```

#### 问题3：SDK未找到
**解决方案**：
1. 打开 **Tools → SDK Manager**
2. 确保已安装：
   - Android SDK Platform 34
   - Android SDK Build-Tools 34
   - Android SDK Platform-Tools

### 步骤6：运行应用

1. **连接设备或启动模拟器**
   - 真机：通过USB连接并启用开发者选项
   - 模拟器：点击 **Tools → Device Manager** 创建虚拟设备

2. **选择设备**
   - 在工具栏的设备下拉菜单中选择设备

3. **运行**
   - 点击绿色的运行按钮 ▶️
   - 或按 `Shift + F10`

## 📱 系统要求

### 开发环境
- **Android Studio**: Hedgehog (2023.1.1) 或更新版本
- **JDK**: 17 或更新版本（Android Studio自带）
- **操作系统**: macOS, Windows, 或 Linux

### 目标设备
- **最低版本**: Android 8.0 (API 26)
- **推荐版本**: Android 10 (API 29) 或更新
- **存储空间**: 至少100MB可用空间

## 🎯 验证安装

同步成功后，你应该看到：

1. ✅ **项目结构**正确显示
2. ✅ **Gradle Build**标签页显示"BUILD SUCCESSFUL"
3. ✅ **没有红色错误**标记
4. ✅ **可以运行**按钮可用

## 📖 使用应用

### 首次使用

1. **启动应用** → 显示登录界面
2. **扫描二维码** → 使用哔哩哔哩App扫码
3. **登录成功** → 自动跳转到首页
4. **浏览收藏夹** → 查看你的B站收藏
5. **下载歌曲** → 点击下载按钮
6. **播放音乐** → 在音乐库中播放

### 功能说明

| 功能 | 说明 |
|------|------|
| 🏠 首页 | 快速访问收藏夹和音乐库 |
| ❤️ 收藏夹 | 浏览B站收藏夹内容 |
| 🎵 音乐库 | 查看已下载的歌曲 |
| ⚙️ 设置 | 配置应用选项 |
| 🎧 播放器 | 控制音乐播放 |

### 手表控制

如果你有三星手表或其他Wear OS设备：

1. **确保手表已配对**
2. **在手机上播放音乐**
3. **手表上会自动显示媒体控制**
4. **可以播放、暂停、切歌**

## 🔧 常见问题

### Q: 构建失败，提示"Plugin not found"
**A**: 确保网络连接正常，让Android Studio自动下载插件。如果在中国大陆，建议使用镜像源。

### Q: 应用闪退
**A**: 检查：
- 最低Android版本（需要8.0+）
- 存储权限已授予
- 网络连接正常

### Q: 二维码不显示
**A**:
- 检查网络连接
- 确保能访问bilibili.com
- 查看Logcat中的错误信息

### Q: 下载失败
**A**:
- 检查存储权限
- 确保有足够的存储空间
- 注意：FFmpeg转换功能需要额外实现

### Q: 手表上没有控制
**A**:
- 确保手表已正确配对
- 确保手机正在播放音乐
- 检查手表的媒体控制设置

## 📚 更多文档

- **README.md** - 技术文档和架构说明
- **项目说明.md** - 详细的功能说明和最新更新
- **实现清单.md** - 完整的实现清单和待办事项
- **构建成功.md** - 构建状态和下一步计划
- **FFmpeg集成说明.md** - FFmpeg集成指南

## 📝 更新日志

### 2026-02-06
- ✅ 修复登录后无法获取收藏夹的问题
- ✅ 从登录API自动获取用户ID
- ✅ 整合重复的项目文档
- ✅ 删除英文重复文档，统一使用中文文档

## 🆘 获取帮助

如果遇到问题：

1. **查看日志**：Android Studio → Logcat
2. **清理构建**：Build → Clean Project
3. **重新构建**：Build → Rebuild Project
4. **重启IDE**：File → Invalidate Caches / Restart

## 🎉 开始使用

完成上述步骤后，你就可以开始使用B站音乐播放器了！

享受你的音乐吧！🎵
